{% extends "layout.html" %}

{% block main %}
<div class="top-menu row">
    <div class="top-menu-upper row">
        <div id="lecture-column" class="col-sm">
            <a id="lecture" href="lecture{{ index }}">Lecture</a>
        </div>
        <div id="shorts-column" class="col-sm">
            <a id="shorts" href="shorts{{ index }}">Shorts</a>
        </div>
        <div id="pset-column" class="col-sm">
            <a id="pset" href="problems{{ index }}">Problem Sets</a>
        </div>
    </div>
    <div class="top-menu-lower row">
        <div class="col-sm">
            <a href="lecture{{ index }}">Video</a>
        </div>
        <div class="col-sm">
            <a href="notes{{ index }}">Notes</a>
        </div>
        <div class="col-sm">
            <a href="slides{{ index }}">Slides</a>
        </div>
        <div class="col-sm">
            <a href="source{{ index }}">Source Code</a>
        </div>
        <div class="col-sm">
            <a href="transcript{{ index }}">Transcript</a>
        </div>
    </div>
</div>     
<div class="main-content row">
    <h1 class="no_toc" id="lecture-1">Lecture {{ index }}</h1>
<div class="source">
    <select id="select">
        {% for item in source %}
            <option value="{{ item }}">{{ item }}</option>
        {% endfor %}
    </select>

    <pre id="render-src">
// Logical operators

#include &lt;cs50.h&gt;
#include &lt;stdio.h&gt;

int main(void)
{
    // Prompt user to agree
    char c = get_char("Do you agree? ");

    // Check whether agreed
    if (c == 'Y' || c == 'y')
    {
        printf("Agreed.\n");
    }
    else if (c == 'N' || c == 'n')
    {
        printf("Not agreed.\n");
    }
}
    </pre>
    
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelector('#lecture').style.color = "#fff";
            document.querySelector('#lecture-column').style.backgroundColor = "#000";
        });

        document.querySelector('#select').addEventListener('change', function() {
            let path = "templates/files/source/src1/" + this.value;
            fetch(path)
                .then(response => response.text())
                .then(text => document.querySelector('#render-src').innerText = text);
        });
    </script>
</div>
{% endblock %}